def numberOfItems(s, startIndices, endIndices)
  # Write your code here
  # p s
  # p startIndices
  # p endIndices
  begin
    items = []
    s = s.split('')
    startIndices.each_with_index do |start_index, index|
      opened = false
      items_count = 0
      inside_componenets = 0
      p s[start_index - 1...endIndices[index]]
      s[start_index - 1...endIndices[index]].each do |item|
        if item == '|'
          unless opened
            opened = true
            next
          end

          if opened
            items_count += inside_componenets
            inside_componenets = 0
          end
          next
        end
        inside_componenets += 1 if opened && item == '*'
      end
      items << items_count
    end
    items
  rescue StandardError => e
    p e
  end
end

# p numberOfItems("*||*|**|**|**||**||****||*|****|*|***|*|******||*|****|*|***|*|***|******||****|||||*||**|||*|*******|**|**|*|||*||**|||*||||****|**|**|||*||**||**|**||****|****|***|*|***|***||****|**|*|*|*|*|*||*|||****|***********||||**********||****|*****|*******|************|*|**||*|||||*||****|*|||||*|**||***||*||**|||*||*******|*||**|**|***|||*|*******|***|**|**|***|**||*||****||||*******||*****||***|*||***|***||**||**|*||||***||*|*||****||*|*|**|||***|*|*|*|*|**|||********||||||***||**|**|**|||****|**|**|**||||*||||**|****|**|*||**|*||***|***|||***||*||||****|*****|*|**|||||*****|*|*|*||*||*|**||*|*||*||*|**|||*||*||||*|*|||*|*|**|**||***|*******|**|*****||*|*|*|*||***|*|*|||***|*||||***|*********||||*|||*******||****|*|*|***|***|***|*****|*******|*||***|**||*|*|**|*||||**||**|||||*|***|******||**|**|**|******|*||*|****||||||***|*|||**|*|**|*||||***|*|*|||****|****|*||*|**||||***||***|******|||*||**|**|*||*||*|*****|||**|****||**||*|*|**||*||**||||***||**||**|||*||**|************||**||*|********|***|*|*****|*********|*||********|*|***|*||**|||****||**||***||*|*|*|******|||*****||||*|*|***|*|||***|***||**|*|||****|*|||***||***|******||**||*|||****|***|****|*|||*|**|**|*|*|*|******||***********|*|*|||*|*****|**|*|||**||||***********|*||||*|*|**|*|**|********|******|*|*****|****|**||*|*|**||**|||**|*|**|*|*|*|*|***|*|**||*|**|******|||||****||||||**||||||**||**|*||*****||**|**|||*||***|**|*|*|||*|***|**|**|**|*******|*************||***|*****||**||*|**|*||*|***||||***||***|||*|*|*|*|********|**||******|*||*|||*|***|*******||*|*||||*|*****|*||****||||************|||*|**||***|||||||***|*****|||||||*|*|**||***|||********|**|******|****|*||***|***||||**|***|*|***|||***||*|||*|******||****||******|*|***|****|*|**|***||||****|||*|**|*******|*|***|******||*|***||********|*||****|*|****||********|***|**|*****|***||**||********||***|||**||*|**|****|*|*****|*||*|*||||**|||*|*|*****|******||*|*|*|**|**|*|||***||*||***|**|*|*|**||***|**|||**|**|*|*|||*|***||**|||*||*||**|*|**||**|**|******|**|**|***|**||****|*****|*|*|*********|**|**||*******|||*****|****|**||***|***|*|******|*****|*||||*||*****|***||******|*||||**|**|**|*|*||***|**||***|******|||***|*|*||*|***|*||||***|*|*||***||**|||**|**|*****|***||***|***|||**|*|||||**|||*|||*|*||**|*||*|*|||*||||******|*|******|*|||*|*||*|||*||**||****|||**|****|****|**|****|*|***|*|*|***|***||*|****||******|***|*|****||||****|*||||||*||****|**|***||*||******|**|*********|**||*|**|**||*****||****|***||*||*|**|*|*|*|******|||||||**|**|****||**|**||**|*****||*|*|||||***|*|**|||*|||****||****||*|***||*****|*******|**||*||***||***|***||****||**|**|*|*|**|**|***|*******|||***|*||||*|*||||*******|||*||||******|****|****|||***|*||****|*|*||*|**|***|*||**|||*||||||**|*|*|*|*|**|**|***||*|**|**|**|**|*|*|*|||*******|*|*|***|*|||*|||*|||**|*||||***||||***|***|*****|*****||**||*||**|***|****|**|****|*|****||*||**|*||**|**|*||**||**|*|****||**|*******||*||***|**||********|*||*|||*|***|****|***|*||***|******|*****|**|*|**|**|*||******|****|||***||*|||*|*|*||*|*|*||****|**||****||*|*****|*|**|***|*|***|**|*|**||*|*****|*|**|*|||||***|||**|||****||||**|***|**|**|****||**|||******|*|****|||*||||***|*****||**|****|*|**|*|***||****|***||*******|***|****|**|||******||**||***|*|*|*|**|*****|**||**|**|*|*||***|******|**|||**|*|*|**|*|********|****|*|**|||*|||||*||||***|||||*******|*|*|**|*|||***|*|*|****|*|****|**|**|||||||||*||**|****|*|*|**||**|**||||****|***||||*|****|||***|||**|**||*||||||*|*****|||||*****|*****|||*|*||*|*|*******|*|*|||||***|**|**||*||||**|***|**|*|**|||***|***|*||*|***|**||**|**||*|||*|*|*|**||*|*******||||*||***|**|*****|*||*|||****|****||**|**|*|***|***|**|*|*||||*||**||******|*||*|*|**||***|*|**|||******||**|*|*|*|*||**|**|****|*******|*|*|******|*|*|**|*|*|****|*|||**|*|***|***|*|**|*||***|**|**||||*|*|**||**|*|||*||||***|**|||*|**|*||||******||*|***|**|**|*|***|**|*||**||***|****|||||**||****|*|**|||||*|*||****||||*||**|****||||||||***||**|***|*|***|||||*|***|*||*||***||**|***|*||||||||||**|*****|*********||||*|**||***||***||||||***|||*|**|***|*||**|**|*|*|***||**|**||||**||****|***|*||*|**|*|***|**|***|***|*|**|**|***|*|***|*|*||********|||||**|||*||**||**|**||*||*|||||**|||*||||*****||||**||*****|******|*******||||******|||****|*|||***|**||*|*|*|*******||||****|*|*|*|*|****||***|*|*|***|****|||*||**|******|||**||||*****|*|*||*|*|||||***|**|*||*|*|*|**|****|*|***|***|*||*|*||***|******|****||||***|**|*|*|*||*|*|*|*||*|*||*||*******|*||*||****|***|**||**|*|*|*|**||*|**|**||||***||*****||*|***||****|||||*|***||***|*|||******|*|||||*|*|***|**||*|||***|*|*||||||||*|**||||||*||*|*||||*|*||**||*|**||*|**|******||||*||**|*||||***|**|**||*|**|*****|*|*|*******|*|***||*|||**||***|****||**||********||***|**|*||**|**|**|**|*****||||***||*|**||||***|******||*|||***|*****||**|***||************|**|**|*||***|**|*|****||**||*|||*|*||**|||*****||||*|*|*******|*|*||||||*****||*|******|||******|********|*|***|*|**||**|*******||||***|**|****|||**|**|*|***|***|****|**|*||*|*|*||****|*****||||**|*|**||*|*|******||**||**|***|*|**|*****||*|***|**||*|**||**|*****||*|*||*|*|***|*|***||**|***|||*|**|*|****||*||****|**|*|******||||***|||*|****||*|**|||***|**|**|||**||*|***||*||||****|*|**|*|**||*||****|****|**||*|**||*||****|****|***|****||*|***|*|||***|*****|***|*|****||*|**||*||*****||****|**|||****|||*****|*|||**|**|*|***|*|****|*|*||******|||***|*|*|**|****|*||*|||*|||*********|***|||****|**|*||**||*|*|**|**|||||*||***|*||******|*|*||*|***|*|**||*|**|*|**||||*|*|**|**|*****||||*|*|*|*|**|||*|||***||***|*|||||||***|**********|||**|||*|**||*|*|***||**|||****|*|****||******|*|*|*|||*|*|***|*|||**|***||**||*|||||*|*|**|*||****|*||**********|***|**|**|*|**|||*|*******||*|*|*****|**|***|***|||*|***|*|*||*|**||*******|**||||*|***|*****|****|||****|*||*|****||*||*****|****||**|****|***|**|*||*||**|*||*|*|||*|*|*|*||***||*||***||*|**|*****|*|*|**||**|||********||||||*||***|*|****|*|*|||*||*|**|******||*****||********|*|****|***|*||*|*|*|**|****||***|**||**|**|*************||**|*|*|*******|||***|****|*|*|******|||*****|*||***|||**|******|*********|*||*||**|*|****|*|||**|***|*||**||*|***||****|****|**|*|**********|*******|*|*|*|***||*|******|||****|*||**||******|*||***||||***||*|||*****||*****|*|********|****||*||***|*|**|****|*||||*|||*|*||**|||***|**|||**|**|************|*|**|||*||*|*|*|*|||****||*|*|||****|******||*|**|***|***|*|**||**|||||****||||||*|****|*||**************||*||||*|||*|**|*|**|**||******||***||||**|*|||*|***|***|||*****|********|**|*|||**||**||*|*****|*****|||**|**|*||*||****||*|**********|****|||**||*|*||*||*|||*|*******|*||*||**||||**|******|**|||**|*||**||*||**|**|*||*****|*|*||**|*||||**||*|*|||*|*|***|**|***|***||**|**|*|||||**|***||*******||****|**|***|*|**|*****|********|*|||**|***||***||***|||***||||*||||**||**||*****|*||*|*|****|*|*|||**||*|*****|****|**||*|*****|***|*|***|*||*|*|********||***|||*|****|*|**||||*|||||*****|******|||*||*****|*******|||**|*||||*|****|***|*|*|***|**|*|*||**|||*|*|********|*||||***|*|**|*****|******|**||*|*|*|******|*|**|||*****|*|***|*********||***|**||***||**|**|*****|||****|****|*|**|***|*|***|***||******|||||*||*|***|**||**|**||**|*****||**|**|***|*******|*****|*||***||*||*|**|*|*|****||||||**||**|||***||**|***|**|*|**|*|******|**|**||||*|**|*|**||*|||**|*|**|**||**|||***********|*|*||**|*******|**********|*||***|*||||*****|*|*|||*|||***|*|*|||*****|*|***|**|*******|*|***|||***||*|*********|***||*|****||***|**|**|****||***|*||||*|||****|*|*||**|*||||**|***|**|**|**|***|||**|*||****||*||||*|*||****||*|*****|**|******|****|*|*|*********|***||**|*****|**|*|****||*||*******|*||****|*||*|***|**||*|||||*****||**|*|*****|||*|*|*|||**********|*||*****|*|*||*|*||***||*|***|**||****|***|||*|****|*|**||***|||||****|****|***||*|||**|***||*||****|*|||*|**|******||**|||******|******|******||***||*|***|**|******|*****|***********|***|||**||**|*****|*|***|****|***|||**|*||**|***|********|*|*|***|**||**|**|||*|**||||*|****|**|**|***|***||*||**||*|*|**|*|*|*|*****|*|**|**|**||***|**|****||****|**||***||**|*|******|||**|*||*|*********|||**|||**||*|**||**|*|****|**||**|***|**|*|*|||**||**|*||||*|*|***|**|||***|||*****|**|***|||***|****||*||**|||*|*****|*|*|||**||***|*||***|***|||**|**||**|**|*|||**|***|******|||||*|||||***|*||**||*|*|*|*|*|||***|*****|***|****||*|*||***|*||*|*|*|****|****||******|*****|***|*|*|**|*|||**|*****||||**|||*|||||***||**|***|*|*|**|||**|****|*******|*|**|***|**|*|*|**|*|**********|**|**||***************|||||*|*****|**|||*|**|**|***|*|**|*|*|*|||*|*|**|*|****|**||*|***|*|*||||||**|||*|||*||****|****|****|**|*||*|*|**|**|*||*|||**|********|*****|*|||*||*||*|*****||**|**||*****|**||*|*|******||****||*||*||**|**||****|*|||*||*|**|*|***|*|||||*||||**||||*||*||||||**|*||**||||||*||****|*|*******|||||*|**|*||****|**|*||**||*||**|****|*****|*|*|**||**|*|****|********|*|*|||****|*|***||||*****||**|*|*******|||**|||**|****|||**|******||*||||**|**||*||*|***|*|**|**|****|*|***||***||*||*||******|*||||*||**|**|*|*||*|**||****|**|*****||*******|**|******|**|************|*****||******||****|**|*|||||||******|||***|||**|*||||**|**|****|******||*|||*|*|***||**||*|**|||***||*|**|**|**||*****|*||*|**|****|**||**|**|****|||**|||*|***|**|******|**|*|*||*|****|**|***|*|*|******||||***|**|||*|*||||||*|********|*|*|***||*||****|*******|*|*||***|****|*****|*||**|**|||**|*|*****|***|***||**||**********||*|***|*|*******||***|*|||**|**|||*|******||**|**|*****|**|**|**||**||***|*|*|*|******|*|***|||****||**||**|**||**||||||****|****|*|*****|*||||**|**|*******|*|*|***|||||*|********|**********|*|*|*|**|**|*||*|***********|*****|*||*|**||||***|******|***|***|***|****|***|*|*||*|*|*****||||**|**||*||*||*||*|***|||****|*|****|******|*|*|*********||*|*|**||***|*|*||||***|||***|***||*||*|||*||*******|****||||*||********||***|*****|||*||**|*||||***|*||**|**|***|***|*|****||******|*******||**|***||****|*|||*|*|*|*|||**|*|*|*||***||*|*||*******|*|*|**||*|**|||****||*|||***|**|**||***|*|**|*|||***|**|||*|******|||**||*|**|*|*|******|****||***|***||****||**|*****|******|*|**|||**|**|***|*|||*|"
# , [1], [3])
# [9424, 2582, 8650, 5680, 3295, 4412, 4587, 5478, 746, 2460, 7601, 4866, 5795, 4331, 4001, 421, 3424, 2073, 864, 510, 3696, 1388, 4635, 5380, 4490, 680, 6851, 2646, 6579, 2318, 3749, 354, 2239, 5799, 2883, 6308, 6578, 7564, 682, 1524, 438
